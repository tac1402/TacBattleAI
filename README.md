# TacBattleAI - это тестовая сцена на Unity 6.3 URP с библиотеками от Tac

_Tac - это никнейм разработчика, расшифровывается как Technology of Automatic Control (Технология автоматического управления)._

Вы можете использовать эту сцену для обучения и/или тестирования своих прототипов. Данный репозиторий содержит, в составе проекта на Unity 6.3. URP библиотеки/компоненты исходного кода, которые могут облегчить начальную разработку ваших прототипов. Все комоненты, которые не рекоммендуется изменять самостоятельно, включают в себя сокращение Tac, и находятся в соответствующих директориях/namespace/dll. Особенностью библиотек Tac является их продуманная архитектура и легкость, благодаря чему их можно собирать как конструктор для разных прототипов игр. 

## Как достигается легкость архитектуры

Главным критерием легкости архитектуры является возможность разбить монолитную архитектуру на минимально функциональные компоненты с минимальными зависимостями. И в последующем, как можно проще комбинировать различные компоненты между собой, не внося в свой проект крупную монолитную систему, а только то, что реально используется в проекте разработчика. В подавляющем большинстве случаев это достигается путем оверхейда, примером этому служит использование интерфейсов, ECS, MVC и тому подобные архитектурные надстройки. Все это свидетельство, лишь того, что текущие языки программирования с трудом дают удобные для этого механизмы. Но в C# для этого можно использовать т.н. partial class. Это позволяет включать компоненты исключительно путем физического копирования файлов, в которых определенны классы. Рассмотри это на примере. Самый простой и самый частоиспользуемый класс это класс Item, который минимально определяет все возможные сущности в проекте. Item позволяет идентифицировать, группировать и различать сущности.

```csharp
namespace Tac
{
    public abstract class Item : MonoBehaviour
    {
		public int ObjectId;
		public int GroupId = -1;
		public string ModelName = "";
		public ModelTypes ModelType = ModelTypes.Model;
	}
}
```
Но что делать, если вы реализуете компонент, который перемещает сущность по некоторым правилам? А другой компонент его вращает. При этом у вас есть проекты, где нужно только перемещение, где нужно только вращение, и проекты где нужно и то и другое. Вот правильный подход с нулевым оверхедом. Partial классы обеспечивают вам возможность просто копировать в проект нужные компоненты и не создавать оверхед архитектурные надстройки. Это удивительно просто.

```csharp
//TacItemMove.cs
namespace Tac.ItemMove
{
	public class ItemMove
	{
	    public void Move(Item2 item, ... ) { ... }
	}
}
namespace Tac
{
	public partial class Item2 : Item
	{
		public bool AllowMove = true;
	}
}
```
```csharp
//TacItemRotate.cs
namespace Tac.ItemRotate
{
	public class ItemRotate
	{
	    public void Rotate(Item2 item, ... ) { ... }
	}
}
namespace Tac
{
	public partial class Item2 : Item
	{
		public bool AllowRotate = true;
	}
}
```
## Перечисление реализованных компонентов

На данный момент можно выделить: 
1. TacCamera - простейшая камера, которая позволяет перемещаться в игре, пролетая над поверхностью, т.н. "камера сверху"
2. TacItemCreate - минимальный набор, который позволяет перекрыть создание моделей в игре, выстроив правильную архитектуру "сущностей"
3. TacItemMove - позволяет перемещать/располагать/строить предметы в игре
5. TacStandart - общие компоненты, расширяющие функциональность классов Unity и требующиеся практически для каждого компонента
6. TacWireframe - Управление визуальной сеткой (wireframe), что позволяет отобразить пересечение модели, или прозрачность стен, заменяя модель сеткой определенного цвета

# Обучающие материалы на youtube-канале

1. https://www.youtube.com/watch?v=OD5WpfnhSU0 - Partial-подход - это легкая архитектура и убийца ECS like архитектуры
2. https://www.youtube.com/watch?v=9XOY1fUcUPg (Основы _легкой_ компонентной архитектуры, так же объясняется TacWireframe, другие компоненты только базис, который уже еще больше упрощен)


# Использованные ассеты
В этом проекте были использованы, но существенно изменены, некоторые модели, которые свободно распространяются на assetstore.unity.com. Они выложены для демонстрации согласно п. 2.2.1.б (Standard Unity Asset Store EULA). Они публикуются в составе пакета исходного кода от Tac, как «Licensed Product», который сам, в свою очередь можно использовать только в демонстрационных/обучающих целях без монетизации.

# Контакты
Репозиторий предоставляется "как есть", но если у вас возникают трудности или пожелания к исходному коду Tac библиотек, вы можете со мной связаться по email: tac1402@gmail.com

