---
title: TopCamera
---
Unity не предоставляет удобного управления камерой, поэтому многие разработчики реализуют управление камерой сами исходя из своих потребностей. Зачастую это не тривиально, и компоненты камеры сильно перегружены и/или заточены под определенную специфику. Поэтому требуется реализация самого простейшего управления, т.н. _камеры сверху_, которая позволяет пролететь над террайном на определенном уровне над ним. Также камера должна иметь функцию поворота обзора и приближения/отдаления от поверхности. А так же контроль движения в определенной области. Эту функциональность выполняет комбинация двух скриптов [FastController](../FastController.md) и TopCamera. Уже настроенный префаб TopCamera включен в пакет этого компонента, его нужно лишь добавить на сцену.

Управление клавишами обеспечивается принимая ввод пользователя через UnityEngine.InputSystem. Используется: 
* WASD - принимает [FastController](../FastController.md) направляя камеру в соответствующую сторону
* Right Button Mouse - при нажатии поворачивает камеру
* Scroll Mouse - приближает/отдаляяет камеру
  
# Свойства
## bool AllowMove

Позволяет/запрещает камере двигаться.

## Vector3 Speed

Скорость камеры (x), скорость поворота (y)

## bool UseLimit

При =true не позволяет камере выходить за пространственные ограничения. Нужно выбрать способ ограничения (LimitType) и размеры пространства (TopWorld + SizeWorld или WorldLimit). 

```csharp
    public enum LimitType
    {
        Square, // ограничение квадратной областью
        Сircle // ограничение внутри круга
    }
    public class LimitCircle
    {
        public Vector2 Center; // центр круга
        public float Radius; // радиус
    }
```

## Vector2 TopWorld + Vector2 SizeWorld

Верхняя правая точка террайна и размер террайна (ширина, длина).

## 

## Terrain WorldTerrain

Ссылка на террайн (задается в редакторе Unity), над пространством которого должна двигаться камера. Используется для получения высоты поверхности.

## Zoom

float ZoomY - контрольное положение камеры по высоте
Vector2 ZoomLimit - разрешенное уменьшение/увелечение высоты камеры от контрольного положения (ZoomY)
float ZoomRate - скорость приближения/отдаления


## Light light

При задании ссылки на свет (в редакторе Unity) управляет интенсивностью света, в зависимости от высоты камеры. LightIntensity используется как минимум-максимум возможной интенсивности. 

# Методы

Компонент не предоставляет методов управления камерой, управление камерой осуществляется компонентом самостоятельно каждый кадр в методе Update.


